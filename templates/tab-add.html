<ion-view view-title="Add">
  <ion-content>
  <div class="button-bar">
  <a class="button" ng-click="showEditor()">Edit</a>
  <a class="button" ng-click="showPublisher()">Add</a>



</div>

   <div class="list">
   <div ng-show=Editor> LET THERE BE BANANAS </div>



 <form name="bananaform">
   <div class="item item-divider" ng-click="showSelectEnabled=!showSelectEnabled">
   Select Toggle <p>{{choices.selected.choice_text}}</p>
  </div>
<div class="banana" ng-show=showSelectEnabled> <h4> Search </h4>
<ui-select  ng-change=submit() ng-model="choices.selected">
    <ui-select-match placeholder="   Enter choice text...">{{$select.selected.choice_text}}</ui-select-match>
    <ui-select-choices repeat="choice in choices.all | filter: $select.search track by choice.choice_code">
        <b>Choice Text</b>
        <div ng-bind-html="choice.choice_text | highlight: $select.search"></div>
    </ui-select-choices>
</ui-select>  </div>









        <label class="item item-input item-select" ng-show=showSelectEnabled>
    <div class="input-label">
      Under Choice
    </div>
      <select ng-model="choices.selected" ng-options="choice.choice_text for choice in choices.all" ng-change=submit()>
        <option value="" ng-if="false"></option></select>

  </label>
  <div class="item item-text-wrap" ng-show=showSelectEnabled >

   <p ng-repeat="have_parent in have_parents"> 
    <a ng-click="grandParentsSelected(have_parent.choice_text)" > <u>{{have_parent.choice_text}} </u> </a>
    </p><br>

    <p>{{story}} </p> 

   

    <div  ng-show="num_of_choices"><br>
    <p ng-repeat="have_choice in have_choices"> 
    <a ng-click="subchoiceSelected(have_choice.choice_text)" > <u>{{have_choice.choice_text}} </u> </a>
    </p>
    </div>




    </div>


 
    <!--editor begin -->

   <div class="item item-divider" ng-show=showEditorEnabled>
    Edit Choice
  </div>

  <label class="item item-input" ng-show=showEditorEnabled>
    <textarea  ng-model="choices.selected.choice_text"  placeholder="Choice"></textarea>
  </label>

     <div class="item item-divider" ng-show=showEditorEnabled>
    Edit Story
  </div>


   <label class="item item-input" ng-show=showEditorEnabled>
    <textarea ng-model="$parent.story" placeholder="Story"></textarea>
  </label>

  <!--editor end -->

  <!--publisher begin -->

    <div class="item item-divider" ng-show=showPublisherEnabled>
    Add Choice
  </div>
   <label class="item item-input" ng-show=showPublisherEnabled>
    <input type="text" ng-model="$parent.add_choice" placeholder="Add Choice">
  </label>

   <div class="item item-divider" ng-show=showPublisherEnabled>
    Add Follow-up Story
  </div>
  <label class="item item-input" ng-show=showPublisherEnabled>
    <textarea ng-model="$parent.add_story" placeholder="Story"></textarea>
  </label>
    <!--publisher end -->

  <button class="button button-block button-positive"  ng-show=showEditorEnabled ng-click=editStory()>
  Edit Changes
</button>


  <button class="button button-block button-positive"  ng-show=showPublisherEnabled ng-click=postStory()>
  Add Story
</button>
<div ng-show=showEditorEnabled>
 <button class="button button-block button-positive" ng-hide=num_of_choices ng-click="showDeleter()"> 
  Delete Story
</button>
</div>

<button class="button button-block button-positive" ng-show=showDeleterEnabled ng-click=deleteStory() >
  Confirm Deletion
</button>

       


  </form>


      




  </ion-content>
</ion-view>

